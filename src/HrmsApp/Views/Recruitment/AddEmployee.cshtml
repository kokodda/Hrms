@using HrmsModel.Models;
@model Employee

@{
    ViewData["Title"] = "Personnel";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid" style="padding:0px">
    <br />
    <h3>Add New Employee</h3>
    <div><small><label>Unit:</label>&nbsp; @ViewBag.orgUnitName &mdash; <label>Job Position:</label>&nbsp;@ViewBag.positionName</small></div>
    <form asp-controller="Recruitment" asp-action="AddEmployee" data-ajax="true" data-ajax-method="POST" data-ajax-update="#formResult">
        <br />
        <input type="hidden" name="orgUnitId" value="@ViewBag.orgUnitId" />
        <input type="hidden" name="positionId" value="@ViewBag.positionId" />
        <input type="hidden" name="isHead" value="@ViewBag.isHead" />
        <div><label style="color:silver"><small>Personnal Information</small></label></div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="FirstName"><small>First Name (*)</small></label>
            <input type="text" asp-for="FirstName" class="form-control" required />
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="FatherName"><small>Father (Middle) Name (*)</small></label>
            <input type="text" asp-for="FatherName" class="form-control" required />
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="FamilyName"><small>Family Name (*)</small></label>
            <input type="text" asp-for="FamilyName" class="form-control" required />
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="MotherName"><small>Mother Name</small></label>
            <input type="text" asp-for="MotherName" class="form-control" />
        </div>
        <br />
        <div><label style="color:silver"><small>Names Translation</small></label></div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="OthFirstName"><small>First Name (*)</small></label>
            <input type="text" asp-for="OthFirstName" class="form-control" required />
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="OthFatherName"><small>Father (Middle) Name (*)</small></label>
            <input type="text" asp-for="OthFatherName" class="form-control" required />
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="OthFamilyName"><small>Family Name (*)</small></label>
            <input type="text" asp-for="OthFamilyName" class="form-control" required />
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="OthMotherName"><small>Mother Name</small></label>
            <input type="text" asp-for="OthMotherName" class="form-control" />
        </div>
        <br />
        <div class="input-group-sm">
            <label class="control-label" asp-for="IsMale">
                <input type="checkbox" asp-for="IsMale" checked />
                <span><small>Is Male? (*)</small></span>
            </label>
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="BirthDate"><small>Date Of Birth (*)</small></label>
            <input type="date" asp-for="BirthDate" class="form-control" required />
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="NationalityId"><small>Nationality (*)</small></label>
            <select class="form-control" asp-for="NationalityId">
                <option value="">Select from List ...</option>
                @foreach (SelectListItem item in new SelectList(ViewBag.nationalitiesList, "Id", "Name"))
                {
                    <option value="@item.Value">@item.Text</option>
                }
            </select>
        </div>
        <br />
        <div class="form-group-sm">
            <label class="control-label" asp-for="MaritalStatus"><small>Marital Status (*)</small></label>
            <select class="form-control" asp-for="MaritalStatus">
                <option value="">Select from List ...</option>
                <option value="SINGLE">Single</option>
                <option value="MARRIED">Married</option>
                <option value="DIVORCED">Divorced</option>
                <option value="WIDOW">Widow</option>
            </select>
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="BloodGroup"><small>Blood Group</small></label>
            <select class="form-control" asp-for="BloodGroup">
                <option value="">Select from List ...</option>
                <option value="O+">O+</option>
                <option value="O-">O-</option>
                <option value="AB+">AB+</option>
                <option value="AB-">AB-</option>
            </select>
        </div>
        <div class="input-group-sm">
            <label class="control-label" asp-for="IsMilitaryExempted">
                <input type="checkbox" asp-for="IsMilitaryExempted" checked />
                <span><small>Is Military Service Exempted? (*)</small></span>
            </label>
        </div>
        <br />
        <div><label style="color:silver"><small>Contacts</small></label></div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="Phone"><small>Phone (*)</small></label>
            <input type="text" asp-for="Phone" class="form-control" required />
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="HomePhone1"><small>Home Phone 1 (*)</small></label>
            <input type="text" asp-for="HomePhone1" class="form-control" required />
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="HomePhone2"><small>Home Phone 2</small></label>
            <input type="text" asp-for="HomePhone2" class="form-control" />
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="Email"><small>email</small></label>
            <input type="email" asp-for="Email" class="form-control" />
        </div>
        <br />
        <div><label style="color:silver"><small>Addresses</small></label></div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="GovernorateId"><small>Governorate (*)</small></label>
            <select class="form-control" asp-for="GovernorateId" required>
                <option value="">Select from List ...</option>
                @foreach (SelectListItem item in new SelectList(ViewBag.governoratesList, "Id", "Name"))
                {
                    <option value="@item.Value">@item.Text</option>
                }
            </select>
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="Address"><small>Address</small></label>
            <input type="text" asp-for="Address" class="form-control" />
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="PermenantAddress"><small>Permenant Address</small></label>
            <input type="text" asp-for="PermenantAddress" class="form-control" />
        </div>
        <br />
        <div><label style="color:silver"><small>Employment Information</small></label></div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="EmpUid"><small>Employee Uid</small></label>&nbsp;<span><small>[if left blank then it will generated by the system]</small></span>
            <input type="number" asp-for="EmpUid" class="form-control" />
        </div>
        <div class="form-group-sm">
            <label class="control-label" asp-for="JoinDate"><small>Join Date (*)</small></label>
            <input type="date" asp-for="JoinDate" class="form-control" required />
        </div>
        <div class="form-group-sm">
            <label class="control-label"><small>Date In Position</small></label>
            <input type="date" name="dateInPosition" class="form-control" />
        </div>
        <div class="form-group-sm">
            <label class="control-label"><small>Employment Type (*)</small></label>
            <select class="form-control" name="employmentTypeId" required>
                <option value="">Select from List ...</option>
                @foreach (SelectListItem item in new SelectList(ViewBag.employmentTypesList, "Id", "Name"))
                {
                    <option value="@item.Value">@item.Text</option>
                }
            </select>
        </div>
        <div class="input-group-sm">
            <label class="control-label">
                <input type="checkbox" name="isProbation" />
                <span><small>In Probation?</small></span>
            </label>
        </div>
        <br />
        <div>
            <label style="color:silver"><small>Remuneration Information</small></label>&nbsp;
            <span><small>[@ViewBag.jobGrade]</small></span>
        </div>
        @if (ViewBag.isGraded)
        {
            <div class="form-group-sm">
                <label class="control-label"><small>Salary Scale</small></label>
                <select class="form-control" name="salaryScaleTypeId">
                    <option value="">Select from List ...</option>
                    @foreach (SelectListItem item in new SelectList(ViewBag.salaryScaleTypesList, "Id", "Name"))
                    {
                        <option value="@item.Value">@item.Text</option>
                    }
                </select>
            </div>
            <div class="form-group-sm">
                <label class="control-label"><small>Job Grade</small></label>
                <select class="form-control" name="jobGradeId">
                    <option value="">Select from List ...</option>
                    @foreach (SelectListItem item in new SelectList(ViewBag.jobGradesList, "Id", "Name"))
                    {
                        if (item.Value == ViewBag.jobGradeId)
                        {
                            <option value="@item.Value" selected>@item.Text</option>
                        }
                        else
                        {
                            <option value="@item.Value">@item.Text</option>
                        }
                    }
                </select>
            </div>
            <div class="form-group-sm">
                <label class="control-label"><small>Salary Step</small></label>
                <select class="form-control" name="salaryStepId">
                    <option value="">Select from List ...</option>
                    @foreach (SelectListItem item in new SelectList(ViewBag.salaryStepsList, "Id", "Name"))
                    {
                        <option value="@item.Value">@item.Text</option>
                    }
                </select>
            </div>
        }
        <div class="form-group-sm">
            <label class="control-label"><small>Basic Salary</small></label>
            <input type="number" name="basicSalary" class="form-control" />
        </div>
        
        <br />
        <div class="form-group-sm">
            <button type="submit" class="btn btn-sm btn-primary">Submit</button>
            <button type="button" class="btn btn-sm btn-default" onclick="back()">Back</button>
            <small><span id="formResult" style="font-style:italic" class="pull-right"></span></small>
        </div>
    </form>
</div>

<script>
    function back() {
        window.location.href = '@Url.Action("Index", "Recruitment")';
    }
</script>